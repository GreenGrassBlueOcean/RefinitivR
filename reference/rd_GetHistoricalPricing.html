<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>GetHistoricalPricing — rd_GetHistoricalPricing • Refinitiv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GetHistoricalPricing — rd_GetHistoricalPricing"><meta name="description" content="get historical timeseries from the Refinitiv API"><meta property="og:description" content="get historical timeseries from the Refinitiv API"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Refinitiv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>GetHistoricalPricing</h1>

      <div class="d-none name"><code>rd_GetHistoricalPricing.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>get historical timeseries from the Refinitiv API</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span></span>
<span>  RDObject <span class="op">=</span> <span class="fu"><a href="RefinitivJsonConnect.html">RefinitivJsonConnect</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  universe <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"P1D"</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  adjustments <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  count <span class="op">=</span> <span class="fl">20L</span>,</span>
<span>  fields <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sessions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  SpaceConvertor <span class="op">=</span> <span class="st">"."</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rdobject">RDObject<a class="anchor" aria-label="anchor" href="#arg-rdobject"></a></dt>
<dd><p>connection object, defaults to RefinitivJsonConnect()</p></dd>


<dt id="arg-universe">universe<a class="anchor" aria-label="anchor" href="#arg-universe"></a></dt>
<dd><p>The entity universe e.g. RIC name</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>The consolidation interval in ISO8601. defaults to P1D, see also details</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>The start date and timestamp of the query. see also details</p></dd>


<dt id="arg-end">end<a class="anchor" aria-label="anchor" href="#arg-end"></a></dt>
<dd><p>The end date and timestamp of the query. see also details</p></dd>


<dt id="arg-adjustments">adjustments<a class="anchor" aria-label="anchor" href="#arg-adjustments"></a></dt>
<dd><p>character vector: The list of adjustment types (comma delimiter) that tells the system whether to apply or not apply CORAX (Corporate Actions) events or exchange/manual corrections to historical time series data. see also details</p></dd>


<dt id="arg-count">count<a class="anchor" aria-label="anchor" href="#arg-count"></a></dt>
<dd><p>integer The maximum number of data returned</p></dd>


<dt id="arg-fields">fields<a class="anchor" aria-label="anchor" href="#arg-fields"></a></dt>
<dd><p>The comma separated list of fields that are to be returned in the response (only interday)</p></dd>


<dt id="arg-sessions">sessions<a class="anchor" aria-label="anchor" href="#arg-sessions"></a></dt>
<dd><p>The list of market session classification (comma delimiter) that tells the system to return historical time series data based on the market session definition (market open/market close)</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>boolean, if TRUE prints url of get requests</p></dd>


<dt id="arg-spaceconvertor">SpaceConvertor<a class="anchor" aria-label="anchor" href="#arg-spaceconvertor"></a></dt>
<dd><p>converts spaces in variables name into one of the following characters ".", "," , "-", "_", default is NULL</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data.frame with result</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Additional details on parameters:</p>
<p>## <strong>RDObject</strong>:
The support connection objects are:</p><dl><dt>JSON:</dt>
<dd><p>RefinitivJsonConnect</p></dd>

 <dt>refinitiv.data:</dt>
<dd><p>RDConnect()</p></dd>


</dl><p>## <strong>Interval</strong>:
The support intervals are:</p><dl><dt>Intraday Summaries Intervals</dt>
<dd><p>PT1M, PT5M, PT10M, PT30M, PT60M, and PT1H</p></dd>

 <dt>Interday Summaries Tntervals</dt>
<dd><p>P1D, P7D, P1W, P1M, P3M, P12M, and P1Y.</p></dd>


</dl><p>When interval is not specified, back-end will return the lowest supported interday interval.</p>
<p>## <strong>start</strong> &amp; <strong>end</strong>:</p><dl><dt><strong>Intraday Summaries Interval</strong></dt>
<dd><p></p></dd>


    Local time is not supported
    This parameter support time up to nanoseconds granularity.
         For more details on minute summaries boundary
         , see "Minute Summaries Boundary" in Readme.
    See more details on "Start / End / Count Behavior" in Readme.


 <dt><strong>Interday Summaries Tntervals</strong></dt>
<dd><p></p></dd>





</dl><p>## <strong>adjustments</strong>:
The list of adjustment types (comma delimiter) that tells the system whether to apply or not apply CORAX (Corporate Actions)
events or exchange/manual corrections to historical time series data.</p><dl><dt><strong>If unspecified: </strong></dt>
<dd><p>the response will be controlled by each back-end service with the proper adjustments  in the response
                               so that the clients know which adjustment types are applied by default.
                               In this case, the returned data will be applied with exchange
                               and manual corrections as well as being applied with CORAX adjustments.</p></dd>

<dt><strong>If specified: </strong></dt>
<dd><p>it means that the clients want to get some specific adjustment types applied or even unadjusted.</p></dd>


</dl><p>Normally, the back-end should strictly serve what clients need. However, if the back-end cannot support them,
back-end can still return the form that the back-end supports with the proper adjustments
in the response together with status block (if applicable) instead of an error message.
The supported values of adjustments :</p><dl><dt>unadjusted </dt>
<dd><p>Not apply both exchange/manual corrections and CORAX</p></dd>

 <dt>exchangeCorrection </dt>
<dd><p>Apply exchange correction adjustment to historical pricing</p></dd>

 <dt>manualCorrection </dt>
<dd><p>Apply manual correction adjustment to historical pricing i.e. annotations made by content analysts</p></dd>

 <dt>CCH </dt>
<dd><p>Apply Capital Change adjustment to historical Pricing due to Corporate Actions e.g. stock split</p></dd>

 <dt>CRE </dt>
<dd><p>Apply Currency Redenomination adjustment when there is redenomination of currency</p></dd>

 <dt>RPO </dt>
<dd><p>Apply Reuters Price Only adjustment to adjust historical price only not volume</p></dd>

 <dt>RTS </dt>
<dd><p>Apply Reuters TimeSeries adjustment to adjust both historical price and volume</p></dd>


</dl><p>### Notes:</p><dl><dt>1 </dt>
<dd><p>Summaries data will always have exchangeCorrection and manualCorrection applied. If the request is explicitly asked for
          uncorrected data, a status block will be returned along with the corrected data saying "Uncorrected summaries are currently not supported".</p></dd>

 <dt>2 </dt>
<dd><p>unadjusted will be ignored when other values are specified.</p></dd>


</dl><p>### Limitations:
Adjustment behaviors listed in the limitation section may be changed or improved in the future.</p><dl><dt>1 </dt>
<dd><p>In case of any combination of correction types is specified (i.e. exchangeCorrection or manualCorrection), all correction types will be applied to data in applicable event types.</p></dd>

<dt>2 </dt>
<dd><p>In case of any combination of CORAX is specified (i.e. CCH, CRE, RPO, and RTS), all CORAX will be applied to data in applicable event types.</p></dd>


</dl><p>## <strong>count</strong>:
The maximum number of data returned. If count is smaller than the total amount of data of the time range specified, some data (the oldest)
will not be delivered. To retrieve all available data with in the time range specified, this parameter should not be specified.
The returned data could be less than the number requested if there are not enough data with in the time range specified. If not specified,
count will default to 20 unless both the start and end parameters are also specified.
This parameter has no maximum limit for Interday summaries interval. The minimum value for this parameter is 1.
Negative value is not supported. See more details on "Start / End / Count Behavior" in Readme.</p><dl>
## fields:
The comma separated list of fields that are to be returned in the response. The fields value is case-sensitive, can be specified only with alphanumeric or underscore characters, and cannot be empty.
If the requested fields are not valid or not availale for the given RIC universe, the back-end still returns the response of the valid fields (if available)
together with the status block to indicate the unsupported fields. Currently, the fields attribute is only effective with interday summaries (e.g. interval=P1D/P1M).

## sessions:The list of market session classification (comma delimiter) that tells the system to return historical time series data
                     based on the market session definition (market open/market close). This parameter is applicable to intraday summary intervals only.





</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>[translate_to_iso8601_duration()] for translation from eikon legacy interval like e.g. 'daily' to 'P1D'</p>
<p>[mapEikonTimefieldsToRd()] for translation of eikon timeseries field names to RD field names.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># run with python refinitiv data</span></span></span>
<span class="r-in"><span><span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span>universe <span class="op">=</span> <span class="st">"VOD.L"</span>, interval <span class="op">=</span> <span class="st">"P1D"</span></span></span>
<span class="r-in"><span>, count <span class="op">=</span> <span class="fl">20L</span>, RDObject <span class="op">=</span> <span class="fu"><a href="RDConnect.html">RDConnect</a></span><span class="op">(</span>PythonModule <span class="op">=</span> <span class="st">"RD"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run with r json</span></span></span>
<span class="r-in"><span><span class="va">Vodafone2</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span>universe <span class="op">=</span> <span class="st">"VOD.L"</span>, interval <span class="op">=</span> <span class="st">"P1D"</span></span></span>
<span class="r-in"><span>, count <span class="op">=</span> <span class="fl">20L</span>, RDObject <span class="op">=</span> <span class="fu"><a href="RDConnect.html">RDConnect</a></span><span class="op">(</span>PythonModule <span class="op">=</span> <span class="st">"JSON"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">Vodafone</span>, <span class="va">Vodafone2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run wit a subset of fields</span></span></span>
<span class="r-in"><span><span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span>universe <span class="op">=</span> <span class="st">"VOD.L"</span>, interval <span class="op">=</span> <span class="st">"P1D"</span>, count <span class="op">=</span> <span class="fl">20L</span></span></span>
<span class="r-in"><span>, fields <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BID"</span>,<span class="st">"ASK"</span>,<span class="st">"OPEN_PRC"</span>,<span class="st">"HIGH_1"</span>,<span class="st">"LOW_1"</span>,<span class="st">"TRDPRC_1"</span>,<span class="st">"NUM_MOVES"</span>,<span class="st">"TRNOVR_UNS"</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test for interday</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span>universe <span class="op">=</span> <span class="st">"VOD.L"</span>, interval <span class="op">=</span> <span class="st">"PT1M"</span>, count <span class="op">=</span> <span class="fl">20L</span></span></span>
<span class="r-in"><span>, RDObject <span class="op">=</span> <span class="fu"><a href="RefinitivJsonConnect.html">RefinitivJsonConnect</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># 1 minute - Count - All Sessions</span></span></span>
<span class="r-in"><span> <span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span> universe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"VOD.L"</span>, <span class="st">"AAPL.O"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                    , interval <span class="op">=</span> <span class="st">"PT1M"</span>, count <span class="op">=</span> <span class="fl">500L</span></span></span>
<span class="r-in"><span>                                    , sessions<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pre"</span>,<span class="st">"normal"</span>,<span class="st">"post"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                    , RDObject <span class="op">=</span> <span class="fu"><a href="RefinitivJsonConnect.html">RefinitivJsonConnect</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># test with custom instrument you need to construct a custom instrument first</span></span></span>
<span class="r-in"><span> <span class="co"># intraday</span></span></span>
<span class="r-in"><span> <span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span> universe <span class="op">=</span> <span class="st">"S)lseg_epam4.ABCDE-123456"</span></span></span>
<span class="r-in"><span> , interval <span class="op">=</span> <span class="st">"P1D"</span>, count <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># interday</span></span></span>
<span class="r-in"><span> <span class="va">Vodafone</span> <span class="op">&lt;-</span> <span class="fu">rd_GetHistoricalPricing</span><span class="op">(</span> universe <span class="op">=</span> <span class="st">"S)lseg_epam4.ABCDE-123456"</span></span></span>
<span class="r-in"><span> , interval <span class="op">=</span> <span class="st">"PT1M"</span>, count <span class="op">=</span> <span class="fl">500L</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurens van der Burg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

